{% load crispy_forms_tags %}
{% load staticfiles %}

<!DOCTYPE html>
<html lang="en">
    <head><!--?xml version="1.0" encoding="UTF-8"?-->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">

        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <!-- Optional theme -->
        <!-- <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
        <script   src="https://code.jquery.com/jquery-3.2.1.min.js"   integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="   crossorigin="anonymous"></script>

        <!-- Latest compiled and minified JavaScript -->
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

        <script src={% static "dominion_dividers/js/jquery.zoom.min.js" %}></script>
        <script src={% static "dominion_dividers/js/spin.js" %}></script>
        <script>
         previewUpdate = function () {
             var spinner = new spin.Spinner().spin()
             $('#preview_img').append(spinner.el);
             $.ajax({
                 type: 'POST',
                 url: '/preview/',
                 data: $('#id-tabgenoptions').serialize(),
                 success: function(data) {
                     spinner.stop();
                     var src = '"data:image/png;base64,' + data['preview_data'] + '"'
                     $('#preview_img').html('<img class="img-rounded img-responsive" src=' + src + '></img>');
                     $('#preview_img').zoom();
                 }
             });
         };
         $(function() {
             $('input').change(previewUpdate);
             $('select').change(previewUpdate);
         });
        </script>

        <title>sumpfork's Dominion Tab Generator</title>
        <script type="text/javascript">

         var _gaq = _gaq || [];
         _gaq.push(['_setAccount', 'UA-2291281-4']);
         _gaq.push(['_setDomainName', 'sandflea.org']);
         _gaq.push(['_trackPageview']);

         (function() {
             var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
             ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
             var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
         })();
        </script>

        <style>
         .asteriskField {
             display: none;
         }
         a.plainlink:hover {
             text-decoration: none;
         }
        </style>
    </head>
    <body>
        <div class="container">
            <!-- Static navbar -->
            <nav class="navbar navbar-default">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#">BGT</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li class="active"><a href="#">Dominion Dividers</a></li>
                            <li><a href="/chitboxes/">Chitboxes</a></li>
                        </ul>
                    </div><!--/.nav-collapse -->
                </div><!--/.container-fluid -->
            </nav>
            <div class="page-header">
                <h2>Sumpfork's Dominion Divider Generator</h2>
            </div>
            <div class="row">
                <div class="col-md-6">
                    {% crispy form %}
                </div>
                <div class="col-md-6">
                    <div class="well">
	                      <ul class="nav nav-tabs" role="tablist">
	                          <li class="active"><a href="#about" role="tab" data-toggle="tab">About</a></li>
	                          <li><a href="#changes" role="tab" data-toggle="tab">Changelog</a></li>
	                      </ul>

	                      <div class="tab-content">
	                          <div class="tab-pane active" id="about">
                                <div class="row">
                                    <div class="col-md-9">
		                                    <h4>Welcome to the Dominion divider generator.</h4>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="text-right">
                                            <div class="btn-group-vertical btn-group-sm" role="group">
                                                <a href="https://github.com/sumpfork/bgtools_web"
                                                   class="btn btn-default">
                                                    <div class="text-right">
                                                        Web
                                                        <img src={% static "dominion_dividers/images/GitHub-Mark-32px.png" %} width="16"></img>
                                                    </div>
                                                </a>
                                                <a href="https://github.com/sumpfork/dominiontabs"
                                                   class="btn btn-default">
                                                    Dividers
                                                    <img src={% static "dominion_dividers/images/GitHub-Mark-32px.png" %} width="16"></img>
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <p>
                                    <div id="preview_img">
                                        <img alt="Dividers in Action"
                                             src={% static "dominion_dividers/images/divider_photo.jpg" %}
                                             class="img-rounded img-responsive"
                                        ></img>
                                    </div>
                                </p>
		                            <p>Quite a while ago, I converted my base Dominion box into a <a href="http://boardgamegeek.com/thread/576889/original-box-modded-for-base-intrigue-seaside-pros">storage solution for the base game + 3 expansions plus extra materials</a>. In the process, I wrote a Python script (<a href="https://github.com/sumpfork/dominiontabs">get the source here</a>) to generate pdfs of the dividers that I used. I then published those pdfs to <a href="http://boardgamegeek.com">BoardGameGeek</a> and since then have improved them due to feedback <a href="http://boardgamegeek.com/filepage/59848/sumpforks-double-sided-dominion-tabs-for-all-expan">numerous times.</a> However, people keep putting in requests for special versions (with cropmarks, for different sets, etc.) and the file I publish keeps getting bigger and bigger due to including all version. So, instead of growing the number of versions, I've decided to try putting the script behind the web form on the left so those interested can generate their own versions. Others have also taken my source and <a href="http://boardgamegeek.com/filepage/61406/improved-sumpfork-double-sided-dominion-tabs-for-a">changed it</a> if you are looking for different things.</p>
		                            <p>Please note issues and requests on <a href="https://github.com/sumpfork/dominiontabs/issues">github</a>, talk to fellow users <a href="http://boardgamegeek.com/article/11291217">in this thread</a>, or contact <a href="http://boardgamegeek.com/user/sumpfork">me</a> via <a href="http://boardgamegeek.com/geekmail/compose?touser=sumpfork">BGG mail</a>. You can also thumb the thread or the <a href="http://boardgamegeek.com/filepage/59848/sumpforks-double-sided-dominion-tabs-for-all-expan">original file thread</a> if you like these dividers, or even better post pictures of how you used them - I'm always curious.</p>
		                            <p>If you would like to contribute, the <a href="https://github.com/sumpfork/dominiontabs">code for the generator</a> is available on github. <b>A huge thank you to all the people who have contributed to this, especially wvoigt (<a href="https://boardgamegeek.com/user/wvoigt">bgg</a>/<a href="https://github.com/wvoigt">github</a>) and nickv2002 (<a href="https://boardgamegeek.com/user/nickv2002">bgg</a>/<a href="https://github.com/nickv2002">github</a>) without whom I would have no chance to stay up-to-date with this project.</b></p>
	                          </div>
	                          <div class="tab-pane" id="changes">
                                {% include "dominion_dividers/version.html" %}
                                {% include "dominion_dividers/changelog.html" %}

                                Previous non-release based changelog:
		                            <ul>
			                              <li>Sep 22, 2016: Options to include # of cards on dividers and to generate slipcases instead of dividers. Add centre-aligned tab option. Fix to Shelters colour. </li>
			                              <li>July 2, 2016: Make Events exclusion apply to landmarks, too (github https://github.com/sumpfork/dominiontabs/issues/67 and https://github.com/sumpfork/dominiontabs/issues/66)</li>
			                              <li>June 19, 2016: Empires improvements and fixes - v2.2 of generation code.</li>
			                              <li>June 11, 2016: Full Empires expansion support, thanks to the great contributors at github.</li>
			                              <li>May 24, 2016: Expose option to group some special card groups, like Prizes.</li>
		                                <li>Mar 17, 2016: Improvements to German translations.</li>
			                              <li>Dec 1, 2015: Avery label fixes. More options for card texts; German translation.</li>
			                              <li>Oct 19, 2015: Expose recent changes/updates: some updated card texts, more comprehensive no-footer, card name and tab alignments options.</li>
		                                <li>June 19, 2015: Update to get latest fixes from github, expose no text on dividers option.</li>
		                                <li>May 4, 2015: Updated tab images for Adventures. Single tab for Prizes, second tab for Possession, fix for Scavenger.</li>
		                                <li>Apr 21, 2015: Add optional individual event dividers and cumulative single event divider.</li>
		                                <li>Apr 20, 2015: Add Dominion: Adventures with lots of help from community. No events yet.</li>
		                                <li>Dec 11, 2014: Start of Italian translation; some card text cleanup.</li>
		                                <li>Jul 4, 2014: Added Prince Promo Card</li>
		                                <li>Mar 5, 2014: Added new back text for Walled Village and Governor</li>
		                                <li>Jan 31, 2014: Fixed Avery Labels, some missing coin images</li>
		                                <li>Jan 30, 2014: Back text for Hinterland cards.</li>
		                                <li>Jan 8, 2014: Fix alternating/same side tabs options.</li>
		                            </ul>
	                          </div>
                            <div class="row">
                                <div class="pull-right">
	                                  <a href="https://www.webfaction.com/?aid=41255"
                                       class="text-muted plainlink">
                                        <img src="https://www.webfaction.com/local_media/images/banners/webfaction-24x24-dark-bg.png"></img>
                                        Hosted on WebFaction
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- SHOW/HIDE items that depend on others -->
        <script type="text/javascript">
        $("#div_id_notch").hide();
        $("form input[name='wrappers']").click(function () {
            if(document.getElementById('id_wrappers').checked) {
                $("#div_id_notch").show();
            } else {
                $("#div_id_notch").hide();
            }
        });

        $("#div_id_centre_expansion_dividers").hide();
        $("#div_id_expansion_dividers_long_name").hide();
        $("form input[name='expansion_dividers']").click(function () {
            if(document.getElementById('id_expansion_dividers').checked) {
                $("#div_id_centre_expansion_dividers").show();
                $("#div_id_expansion_dividers_long_name").show();
            } else {
                $("#div_id_centre_expansion_dividers").hide();
                $("#div_id_expansion_dividers_long_name").hide();
            }
        });
        </script>
    </body>
</html>

